<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../../src/css/dashboard/main.css" />
		<title>User Dashboard</title>
	</head>
	<body class="flex">
		<aside class="flex flex-col gap-40">
			<div class="flex flex-col gap-10">
				<a href="/dashboard/index.html" class="logo dashboard" aria-label="Go to Main Page">
					<img src="../../src/img/logo.png" />
					<span>CineMe</span>
				</a>
			</div>
			<nav>
				<ul class="flex flex-col gap-10">
					<li class="crumb active"><a href="/dashboard/news/list.html">News</a></li>
					<li class="crumb"><a href="/dashboard/movies/list.html">Movies</a></li>
					<li class="crumb"><a href="/dashboard/movies/list.html">TV Series</a></li>
					<li class="crumb"><a href="/dashboard/professionals/list.html">Professionals</a></li>
				</ul>
			</nav>
			<nav>
				<ul class="flex flex-col gap-10">
					<li class="crumb"><a href="/index.html">Go to Website</a></li>
					<li class="crumb"><a href="#">Log Out</a></li>
				</ul>
			</nav>
		</aside>
		<main class="flex flex-col gap-20">
			<section class="content-centered">
				<input type="search" placeholder="Type in to search..." />
			</section>

			<section class="flex flex-col gap-10">
				<div class="buttons-container"><a href="/dashboard/news/add.html" class="button">Add New</a></div>

				<table id="news">
					<thead>
						<td>Title</td>
						<td>Date</td>
						<td>Actions</td>
					</thead>
					<tbody>
						<!-- list will be generated by js script below -->
					</tbody>
				</table>
				<div class="pagination">
					<nav>
						<ul class="flex">
							<li><a href=""><<</a></li>
							<li class="active"><a href="">1</a></li>
							<li><a href="">2</a></li>
							<li><a href="">3</a></li>
							<li><a href="">>></a></li>
						</ul>
					</nav>
				</div>
			</section>
		</main>

		<script type="text/javascript">
			function truncate(str, n) {
				return str.length > n ? str.slice(0, n - 1) + "..." : str;
			}

			let news = [
				{ title: "'Wicked: For Good' Is Fandango's Biggest PG Pre-Seller Of All Time & Highest Overall For 2025 – Box Office", date: "11/13/2025" },
				{ title: "Nicolas Cage to Reunite With John Woo for ‘Gambino’ Mafia Boss Biopic", date: "11/13/2025" },
				{ title: "Sarah Jessica Parker to Receive 2026 Carol Burnett Award From Golden Globes", date: "11/12/2025" },
				{ title: "Box Office: ‘Now You See Me 3’ Makes $2.1 Million in Previews, Beating ‘Running Man’ With $1.9 Million", date: "11/11/2025" },
				{ title: "Netflix's In Your Dreams Is The Best Pixar Movie They Never Made", date: "11/10/2025" },
				{ title: "How Now You See Me: Now You Don't Accomplished Its One-Shot Magic Trick Scene", date: "11/08/2025" },
				{ title: "María Silvia Esteve on Trailing Survivor of Sexual Abuse Case by Catholic Priest in ‘Mailin’: ‘There Was a Structure Protecting Him", date: "11/07/2025" },
				{ title: "The Running Man's Audience Reaction To The Film's AI Scenes Disturbed Director Edgar Wright", date: "11/05/2025" },
			];

			let newsDiv = document.querySelector("table tbody");

			news.forEach((newsSingle) => {
				let row = document.createElement("tr");
				for (const [key, value] of Object.entries(newsSingle)) {
					let cell = document.createElement("td");
					cell.textContent = truncate(value, 50);

					row.appendChild(cell);
				}

				// add actions cell
				let cell = document.createElement("td");
				cell.textContent = "Edit";
				row.appendChild(cell);

				newsDiv.appendChild(row);
			});
		</script>
	</body>
</html>
